
/* ==========================================================================
   UNIVERSAL DISCOVER — CSS v1 (Light Green Palette • Clean Rebuild)
   Obiettivi:
   - Palette verde chiaro coerente e accessibile
   - Design tokens centralizzati in :root
   - Riduzione di !important (solo dove strettamente utile per override di utilità)
   - Effetti morbidi, ombre e gradienti consistenti
   - Miglior leggibilità del testo (ombre leggere + contrasto)
   - Rispetto prefers-reduced-motion
   ========================================================================== */

/* =========================
   0) FONT IMPORT
   ========================= */
@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Crimson+Text:wght@400;600&display=swap');

/* =========================
   1) DESIGN TOKENS
   ========================= */
:root{
  /* Palette – Light Greens (mint / pistacchio) */
  --g-25:  #f7fffa;
  --g-50:  #f0fff4;   /* carta */
  --g-100: #e6ffe9;
  --g-150: #dafde1;
  --g-200: #c9f8d2;
  --g-300: #b4f0c0;
  --g-400: #94e4a7;
  --g-500: #6fd88a;  /* primary chiaro */
  --g-600: #47c46a;  /* primary medio */
  --g-700: #2aaa54;  /* primary scuro */
  --g-800: #1c8c44;  /* contrasto */
  --g-900: #125f2e;  /* più scuro per testi su chiaro */

  /* Neutri e utility */
  --white: #ffffff;
  --black: #000000;
  --overlay-soft: rgba(255,255,255,.35);
  --glass: rgba(255,255,255,.6);
  --hint: rgba(0,0,0,.35);

  /* Testo */
  --c-text: #0f3b25;                /* testo principale (verde molto scuro) */
  --c-text-soft: #2b5a3f;           /* testo secondario */
  --c-text-on-primary: #08351f;     /* su superfici verdi */
  --c-perla: #f8f8ff;               /* bianco perla per casi speciali */

  /* Superfici */
  --c-bg: var(--g-50);
  --c-surface: var(--white);
  --c-border: rgba(16, 94, 64, .18);

  /* Primary system */
  --c-primary: var(--g-600);
  --c-primary-contrast: #f7fff9;
  --c-primary-hover: var(--g-700);
  --c-accent: var(--g-500);
  --c-accent-hover: var(--g-600);

  /* Gradients */
  --grad-primary: linear-gradient(135deg, var(--g-400), var(--g-600) 60%, var(--g-700));
  --grad-pearl:   linear-gradient(135deg, var(--g-200), var(--g-400));
  --grad-soft:    linear-gradient(135deg, var(--g-50), var(--g-150));

  /* Ombre */
  --shadow-sm: 0 6px 18px rgba(18, 95, 46, .10);
  --shadow-md: 0 10px 28px rgba(18, 95, 46, .14);
  --shadow-lg: 0 18px 38px rgba(18, 95, 46, .18);

  /* Raggi e spazi */
  --r-sm: .5rem;
  --r-md: 1rem;
  --r-lg: 1.25rem;
  --r-xl: 1.75rem;

  --space-xs: .375rem;
  --space-sm: .625rem;
  --space-md: 1rem;
  --space-lg: 1.5rem;
  --space-xl: 2rem;

  /* Tipografia */
  --font-body: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  --font-heading: "Playfair Display", Georgia, serif;
  --font-serif: "Crimson Text", Georgia, serif;
  --tracking-tight: -0.01em;

  /* Effetti */
  --elevate: translateY(-1px);
  --scale-sm: 1.015;
  --scale-md: 1.03;

  /* Bordo focus */
  --ring: 0 0 0 3px rgba(111,216,138,.35);
}

/* =========================
   2) BASE RESET (snello)
   ========================= */
*,
*::before,
*::after{ box-sizing: border-box; }

html{
  -webkit-text-size-adjust: 100%;
  font-family: var(--font-body);
}

body{
  margin: 0;
  color: var(--c-text);
  background: var(--c-bg);
  line-height: 1.6;
  text-rendering: optimizeLegibility;
}

/* Miglior leggibilità su sfondi chiari */
p, li, span, a, label, small{
  text-shadow: 0 1px 0 rgba(255,255,255,.35);
}

img, video{ max-width:100%; height:auto; display:block; }

/* Accessibilità focus */
:focus-visible{
  outline: none;
  box-shadow: var(--ring);
  border-radius: .35rem;
}

/* Riduzione movimento per chi lo richiede */
@media (prefers-reduced-motion: reduce){
  *{ animation: none !important; transition: none !important; }
}

/* =========================
   3) TIPOGRAFIA
   ========================= */
h1,h2,h3,h4,h5,h6{
  font-family: var(--font-heading);
  color: var(--g-900);
  letter-spacing: var(--tracking-tight);
  margin: 0 0 .5em;
  text-shadow: 0 2px 6px rgba(148,228,167,.25);
}
h1{ font-size: clamp(2rem, 4vw, 2.75rem); }
h2{ font-size: clamp(1.5rem, 3vw, 2rem); }
h3{ font-size: clamp(1.25rem, 2.2vw, 1.5rem); }
p{ margin: 0 0 1em; }

/* Serif d’accento */
.font-serif{ font-family: var(--font-serif); }
.font-heading{ font-family: var(--font-heading); }

/* =========================
   4) UTILITY DI COLORE
   ========================= */
.text-primary{ color: var(--c-primary); }
.text-muted{ color: var(--c-text-soft); }
.bg-surface{ background: var(--c-surface); }
.border{ border: 1px solid var(--c-border); }
.rounded{ border-radius: var(--r-md); }
.shadow-sm{ box-shadow: var(--shadow-sm); }
.shadow-md{ box-shadow: var(--shadow-md); }
.shadow-lg{ box-shadow: var(--shadow-lg); }

/* =========================
   5) CONTENITORI E CARD
   ========================= */
.container{
  width: min(1100px, 92vw);
  margin: 0 auto;
  padding: var(--space-xl) var(--space-md);
}

.card{
  background: var(--c-surface);
  border: 1px solid var(--c-border);
  border-radius: var(--r-lg);
  padding: var(--space-lg);
  box-shadow: var(--shadow-sm);
  transition: transform .25s ease, box-shadow .25s ease, border-color .25s ease;
  position: relative;
  overflow: hidden;
}
.card::before{
  content: "";
  position: absolute;
  inset: 0;
  background: var(--grad-soft);
  opacity: 0;
  transition: opacity .25s ease;
  pointer-events: none;
}
.card:hover{
  transform: var(--elevate) scale(var(--scale-sm));
  box-shadow: var(--shadow-md);
  border-color: rgba(18,95,46,.28);
}
.card:hover::before{ opacity: .6; }

/* =========================
   6) BUTTONS
   ========================= */
.btn{
  --btn-bg: var(--c-primary);
  --btn-bg-hover: var(--c-primary-hover);
  --btn-text: var(--c-primary-contrast);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: .5rem;
  border: 0;
  padding: .72rem 1.1rem;
  border-radius: var(--r-md);
  background: var(--btn-bg);
  color: var(--btn-text);
  font-weight: 600;
  letter-spacing: .01em;
  text-decoration: none;
  box-shadow: var(--shadow-sm);
  transition: transform .18s ease, box-shadow .18s ease, background .18s ease, color .18s ease;
}
.btn:hover{
  transform: var(--elevate) scale(1.02);
  background: var(--btn-bg-hover);
  box-shadow: var(--shadow-md);
}
.btn:active{ transform: translateY(0); }

/* Varianti */
.btn-primary{ --btn-bg: var(--c-primary); --btn-bg-hover: var(--g-700); }
.btn-secondary{
  --btn-bg: var(--white);
  --btn-bg-hover: var(--g-100);
  --btn-text: var(--g-900);
  border: 1px solid var(--c-border);
}
.btn-ghost{
  --btn-bg: transparent;
  --btn-bg-hover: var(--g-100);
  --btn-text: var(--g-800);
  border: 1px dashed rgba(18,95,46,.25);
  box-shadow: none;
}

/* =========================
   7) NAVBAR + FOOTER (glass)
   ========================= */
.header-nav{
  position: sticky;
  top: 0;
  z-index: 50;
  background: linear-gradient(180deg, rgba(255,255,255,.85), rgba(255,255,255,.7));
  -webkit-backdrop-filter: blur(10px);
  backdrop-filter: blur(10px);
  border-bottom: 1px solid var(--c-border);
}
.header-nav .inner{
  display: flex; align-items: center; justify-content: space-between;
  gap: 1rem; padding: .8rem 1rem;
}
.nav a{
  color: var(--g-900);
  font-weight: 600;
  padding: .5rem .75rem;
  border-radius: .5rem;
  transition: background .2s ease, color .2s ease, transform .2s ease;
}
.nav a:hover{
  background: var(--g-100);
  color: var(--g-800);
  transform: var(--elevate);
}

.footer{
  margin-top: var(--space-xl);
  background: linear-gradient(180deg, rgba(148,228,167,.18), rgba(111,216,138,.18));
  border-top: 1px solid var(--c-border);
  padding: var(--space-lg) var(--space-md);
  color: var(--g-900);
}

/* =========================
   8) COMPONENTI TEMATICI
   ========================= */

/* Poetry focus */
.poetry-focus{
  background: var(--grad-soft);
  border: 1px solid var(--c-border);
  border-left: 6px solid var(--c-primary);
  border-radius: var(--r-lg);
  box-shadow: var(--shadow-sm);
  padding: var(--space-lg);
  transition: transform .25s ease, box-shadow .25s ease, border-color .25s ease;
}
.poetry-focus:hover{
  transform: var(--elevate) scale(var(--scale-sm));
  box-shadow: var(--shadow-md);
  border-color: rgba(18,95,46,.28);
}

/* Mood card (grid item) */
.mood-card{
  cursor: pointer;
  background: var(--c-surface);
  border: 1px solid var(--c-border);
  border-radius: var(--r-lg);
  padding: var(--space-md);
  box-shadow: var(--shadow-sm);
  transition: transform .25s ease, box-shadow .25s ease, border-color .25s ease;
}
.mood-card:hover{
  transform: var(--elevate) scale(var(--scale-md));
  box-shadow: var(--shadow-lg);
  border-color: rgba(18,95,46,.28);
}

/* Quiz option */
.quiz-option{
  user-select: none;
  background: var(--c-surface);
  border: 2px solid transparent;
  border-radius: var(--r-md);
  padding: var(--space-md);
  transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease, background .18s ease, color .18s ease;
  box-shadow: var(--shadow-sm);
}
.quiz-option:hover{
  background: var(--g-100);
  border-color: var(--g-300);
  transform: var(--elevate) scale(1.02);
  box-shadow: var(--shadow-md);
}
.quiz-option.selected{
  background: var(--grad-pearl);
  border-color: var(--c-primary);
  color: var(--g-900);
  box-shadow: var(--shadow-md);
}

/* Typewriter (decorativo) */
.typewriter-text{
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Courier New", monospace;
  color: var(--g-900);
  text-shadow: 0 1px 0 rgba(255,255,255,.3);
}
.cursor{ animation: blink 1s infinite; }
@keyframes blink{ 0%,49%{opacity:1} 50%,100%{opacity:.1} }

/* =========================
   9) LAYOUT UTILITY (subset)
   ========================= */
.grid{ display: grid; gap: 1rem; }
.grid-2{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
.grid-3{ grid-template-columns: repeat(3, minmax(0, 1fr)); }
.flex{ display:flex; gap:.75rem; }
.center{ align-items:center; justify-content:center; }
.wrap{ flex-wrap: wrap; }

.mt-1{ margin-top:.25rem } .mt-2{ margin-top:.5rem } .mt-3{ margin-top:.75rem } .mt-4{ margin-top:1rem }
.mb-1{ margin-bottom:.25rem } .mb-2{ margin-bottom:.5rem } .mb-3{ margin-bottom:.75rem } .mb-4{ margin-bottom:1rem } .mb-6{ margin-bottom:1.5rem }

.p-0{ padding:0 } .p-2{ padding:.5rem } .p-3{ padding:.75rem } .p-4{ padding:1rem } .p-6{ padding:1.5rem } .p-8{ padding:2rem }
.px-3{ padding-left:.75rem; padding-right:.75rem } .py-2{ padding-top:.5rem; padding-bottom:.5rem }

/* =========================
   10) THEMING HOOKS (facoltativo)
   - Possiamo aggiungere temi alternativi cambiando le variabili su un wrapper.
   ========================= */
.theme-soft-green{
  --c-bg: var(--g-50);
  --c-surface: var(--white);
  --c-primary: var(--g-600);
  --c-primary-hover: var(--g-700);
  --c-text: var(--g-900);
  --c-text-soft: #2b5a3f;
}

/* Dark-on-mint (alto contrasto su primario) */
.theme-contrast{
  --c-bg: var(--g-100);
  --c-surface: #fbfffc;
  --c-primary: var(--g-800);
  --c-primary-hover: #0e6e38;
  --c-text: #0c2e1d;
  --c-text-soft: #315b46;
}
